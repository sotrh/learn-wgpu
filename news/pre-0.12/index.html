<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>News (Pre 0.12) | Learn Wgpu</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/learn-wgpu/assets/css/0.styles.81cb5453.css" as="style"><link rel="preload" href="/learn-wgpu/assets/js/app.a45c4644.js" as="script"><link rel="preload" href="/learn-wgpu/assets/js/2.90144110.js" as="script"><link rel="preload" href="/learn-wgpu/assets/js/1.a3cd4637.js" as="script"><link rel="preload" href="/learn-wgpu/assets/js/47.2691d90d.js" as="script"><link rel="preload" href="/learn-wgpu/assets/js/52.5e2e5d28.js" as="script"><link rel="prefetch" href="/learn-wgpu/assets/js/10.3a483859.js"><link rel="prefetch" href="/learn-wgpu/assets/js/11.001f9d01.js"><link rel="prefetch" href="/learn-wgpu/assets/js/12.9ae7933f.js"><link rel="prefetch" href="/learn-wgpu/assets/js/13.187c5f69.js"><link rel="prefetch" href="/learn-wgpu/assets/js/14.d620f288.js"><link rel="prefetch" href="/learn-wgpu/assets/js/15.11d3f49b.js"><link rel="prefetch" href="/learn-wgpu/assets/js/16.a51a75a6.js"><link rel="prefetch" href="/learn-wgpu/assets/js/17.2135cb26.js"><link rel="prefetch" href="/learn-wgpu/assets/js/18.1243e93f.js"><link rel="prefetch" href="/learn-wgpu/assets/js/19.dbbb6fa8.js"><link rel="prefetch" href="/learn-wgpu/assets/js/20.89cccac1.js"><link rel="prefetch" href="/learn-wgpu/assets/js/21.c2fb3e04.js"><link rel="prefetch" href="/learn-wgpu/assets/js/22.8c1c35c0.js"><link rel="prefetch" href="/learn-wgpu/assets/js/23.43810821.js"><link rel="prefetch" href="/learn-wgpu/assets/js/24.7451889e.js"><link rel="prefetch" href="/learn-wgpu/assets/js/25.4c95ad61.js"><link rel="prefetch" href="/learn-wgpu/assets/js/26.7c15da5d.js"><link rel="prefetch" href="/learn-wgpu/assets/js/27.f9c6b56c.js"><link rel="prefetch" href="/learn-wgpu/assets/js/28.f133109b.js"><link rel="prefetch" href="/learn-wgpu/assets/js/29.e7aaa55e.js"><link rel="prefetch" href="/learn-wgpu/assets/js/3.14a52f56.js"><link rel="prefetch" href="/learn-wgpu/assets/js/30.9afc9af6.js"><link rel="prefetch" href="/learn-wgpu/assets/js/31.c5d7f4e5.js"><link rel="prefetch" href="/learn-wgpu/assets/js/32.4f3b4fb8.js"><link rel="prefetch" href="/learn-wgpu/assets/js/33.69c7e45f.js"><link rel="prefetch" href="/learn-wgpu/assets/js/34.79645f59.js"><link rel="prefetch" href="/learn-wgpu/assets/js/35.bdf078d8.js"><link rel="prefetch" href="/learn-wgpu/assets/js/36.ca30cc0b.js"><link rel="prefetch" href="/learn-wgpu/assets/js/37.8ff42340.js"><link rel="prefetch" href="/learn-wgpu/assets/js/38.02720c17.js"><link rel="prefetch" href="/learn-wgpu/assets/js/39.7e3824bf.js"><link rel="prefetch" href="/learn-wgpu/assets/js/4.075c31ea.js"><link rel="prefetch" href="/learn-wgpu/assets/js/40.6a984723.js"><link rel="prefetch" href="/learn-wgpu/assets/js/41.5448c39c.js"><link rel="prefetch" href="/learn-wgpu/assets/js/42.3d4d209a.js"><link rel="prefetch" href="/learn-wgpu/assets/js/43.38daba91.js"><link rel="prefetch" href="/learn-wgpu/assets/js/44.966fdb82.js"><link rel="prefetch" href="/learn-wgpu/assets/js/45.1fe4c989.js"><link rel="prefetch" href="/learn-wgpu/assets/js/46.aa905a50.js"><link rel="prefetch" href="/learn-wgpu/assets/js/48.78f7a329.js"><link rel="prefetch" href="/learn-wgpu/assets/js/49.89e144e2.js"><link rel="prefetch" href="/learn-wgpu/assets/js/5.e0260f8f.js"><link rel="prefetch" href="/learn-wgpu/assets/js/50.03b83871.js"><link rel="prefetch" href="/learn-wgpu/assets/js/51.76bfd79d.js"><link rel="prefetch" href="/learn-wgpu/assets/js/53.d4b60d7c.js"><link rel="prefetch" href="/learn-wgpu/assets/js/54.0001b04d.js"><link rel="prefetch" href="/learn-wgpu/assets/js/55.211f0577.js"><link rel="prefetch" href="/learn-wgpu/assets/js/56.848fefef.js"><link rel="prefetch" href="/learn-wgpu/assets/js/57.a7efb091.js"><link rel="prefetch" href="/learn-wgpu/assets/js/58.53f25584.js"><link rel="prefetch" href="/learn-wgpu/assets/js/59.22a76113.js"><link rel="prefetch" href="/learn-wgpu/assets/js/60.413faa5a.js"><link rel="prefetch" href="/learn-wgpu/assets/js/61.fe7846a1.js"><link rel="prefetch" href="/learn-wgpu/assets/js/62.b0c30034.js"><link rel="prefetch" href="/learn-wgpu/assets/js/63.dc1833fe.js"><link rel="prefetch" href="/learn-wgpu/assets/js/64.f096338b.js"><link rel="prefetch" href="/learn-wgpu/assets/js/65.ccc3940f.js"><link rel="prefetch" href="/learn-wgpu/assets/js/66.6240bd75.js"><link rel="prefetch" href="/learn-wgpu/assets/js/67.5d550ae2.js"><link rel="prefetch" href="/learn-wgpu/assets/js/68.cc389bac.js"><link rel="prefetch" href="/learn-wgpu/assets/js/69.d6fe38da.js"><link rel="prefetch" href="/learn-wgpu/assets/js/70.e5d20ba7.js"><link rel="prefetch" href="/learn-wgpu/assets/js/8.239d797c.js"><link rel="prefetch" href="/learn-wgpu/assets/js/9.f4739e96.js"><link rel="prefetch" href="/learn-wgpu/assets/js/vendors~docsearch.b2157793.js">
    <link rel="stylesheet" href="/learn-wgpu/assets/css/0.styles.81cb5453.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="inner"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learn-wgpu/" class="home-link router-link-active"><!----> <span class="site-name">Learn Wgpu</span></a> <div class="links"><!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="docs-layout"><aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/learn-wgpu/" aria-current="page" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Beginner</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-wgpu/beginner/tutorial1-window/" class="sidebar-link">Dependencies and the window</a></li><li><a href="/learn-wgpu/beginner/tutorial2-surface/" class="sidebar-link">The Surface</a></li><li><a href="/learn-wgpu/beginner/tutorial3-pipeline/" class="sidebar-link">The Pipeline</a></li><li><a href="/learn-wgpu/beginner/tutorial4-buffer/" class="sidebar-link">Buffers and Indices</a></li><li><a href="/learn-wgpu/beginner/tutorial5-textures/" class="sidebar-link">Textures and bind groups</a></li><li><a href="/learn-wgpu/beginner/tutorial6-uniforms/" class="sidebar-link">Uniform buffers and a 3d camera</a></li><li><a href="/learn-wgpu/beginner/tutorial7-instancing/" class="sidebar-link">Instancing</a></li><li><a href="/learn-wgpu/beginner/tutorial8-depth/" class="sidebar-link">The Depth Buffer</a></li><li><a href="/learn-wgpu/beginner/tutorial9-models/" class="sidebar-link">Model Loading</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Intermediate</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-wgpu/intermediate/tutorial10-lighting/" class="sidebar-link">Working with Lights</a></li><li><a href="/learn-wgpu/intermediate/tutorial11-normals/" class="sidebar-link">Normal Mapping</a></li><li><a href="/learn-wgpu/intermediate/tutorial12-camera/" class="sidebar-link">A Better Camera</a></li><li><a href="/learn-wgpu/intermediate/tutorial13-hdr/" class="sidebar-link">High Dynamic Range Rendering</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Showcase</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>News</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-wgpu/news/25.0/" class="sidebar-link">Version 25.0!</a></li><li><a href="/learn-wgpu/news/24.0/" class="sidebar-link">Version 24.0</a></li><li><a href="/learn-wgpu/news/22.0/" class="sidebar-link">First Major Version! (22.0)</a></li><li><a href="/learn-wgpu/news/0.18%20and%20hdr/" class="sidebar-link">Update to 0.18 and HDR tutorial</a></li><li><a href="/learn-wgpu/news/0.17/" class="sidebar-link">Update to 0.17</a></li><li><a href="/learn-wgpu/news/0.16/" class="sidebar-link">Update to 0.16</a></li><li><a href="/learn-wgpu/news/0.15/" class="sidebar-link">Update to 0.15!</a></li><li><a href="/learn-wgpu/news/0.14/" class="sidebar-link">Update to 0.14!</a></li><li><a href="/learn-wgpu/news/0.13/" class="sidebar-link">Update to 0.13!</a></li><li><a href="/learn-wgpu/news/0.12/" class="sidebar-link">Update to 0.12!</a></li><li><a href="/learn-wgpu/news/pre-0.12/" aria-current="page" class="active sidebar-link">News (Pre 0.12)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#pong-working-on-the-web" class="sidebar-link">Pong working on the web</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#_0-12-further-changes-to-surface" class="sidebar-link">0.12 further changes to Surface</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#pong-is-fixed-for-0-10" class="sidebar-link">Pong is fixed for 0.10</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#_0-10-swapchain-is-dead-long-live-the-surface" class="sidebar-link">0.10 SwapChain is dead, long live the Surface!</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#pong-and-imgui-demos-are-fixed" class="sidebar-link">Pong and imgui demos are fixed!</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#_0-8-and-wgsl" class="sidebar-link">0.8 and WGSL</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#_0-7" class="sidebar-link">0.7</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#november-2020-cleanup-content-freeze-and-patreon" class="sidebar-link">November 2020 Cleanup, Content Freeze, and Patreon</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#_0-6" class="sidebar-link">0.6</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#added-pong-showcase" class="sidebar-link">Added Pong Showcase</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#normal-mapping" class="sidebar-link">Normal mapping</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#_0-5" class="sidebar-link">0.5!</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#reworked-lighting-tutorial" class="sidebar-link">Reworked lighting tutorial</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#added-gif-showcase" class="sidebar-link">Added GIF showcase</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#updated-texture-tutorials" class="sidebar-link">Updated texture tutorials</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#fixed-panics-due-to-not-specifying-the-correct-usage" class="sidebar-link">Fixed panics due to not specifying the correct usage</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#updating-winit-from-0-20-0-alpha5-to-0-20" class="sidebar-link">Updating Winit from 0.20.0-alpha5 to 0.20</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#changed-tutorial-examples-to-use-a-src-directory" class="sidebar-link">Changed tutorial examples to use a src directory</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#updating-to-0-4-from-0-3" class="sidebar-link">Updating to 0.4 from 0.3</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/news/pre-0.12/#new-recent-articles" class="sidebar-link">New/Recent Articles</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="news-pre-0-12"><a href="#news-pre-0-12" class="header-anchor">#</a> News (Pre 0.12)</h1> <h2 id="pong-working-on-the-web"><a href="#pong-working-on-the-web" class="header-anchor">#</a> Pong working on the web</h2> <p>This took a little while to figure out. I ended up using wasm-pack to create the wasm as I was having trouble with getting wasm-bindgen to work. I figured it out eventually but decided to keep using wasm-pack as I felt that the workflow would be more friendly to readers.</p> <p>I would have released this sooner, but I wanted to add support for touch so that people on their phones could play the game. It appears that winit doesn't record touch events for WASM, so I shelved that idea.</p> <p>If you want to check out the demo, just head over to <a href="/learn-wgpu/news/showcase/pong/#wasm-support">the write up</a></p> <h2 id="_0-12-further-changes-to-surface"><a href="#_0-12-further-changes-to-surface" class="header-anchor">#</a> 0.12 further changes to Surface</h2> <p><code>SwapchainFrame</code> is no longer a thing. Instead <code>get_current_texture</code> will return a <code>SurfaceTexture</code> directly. This means that getting a frame to draw to looks somethings like this:</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>surface<span class="token punctuation">.</span><span class="token function">get_current_texture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> view <span class="token operator">=</span> output
    <span class="token punctuation">.</span>texture
    <span class="token punctuation">.</span><span class="token function">create_view</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">TextureViewDescriptor</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Another change is that you must call <code>SurfaceTexture::present()</code> after you submit your render command buffers to the <code>queue</code>. It goes something like this:</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">self</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token namespace">iter<span class="token punctuation">::</span></span><span class="token function">once</span><span class="token punctuation">(</span>encoder<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
output<span class="token punctuation">.</span><span class="token function">present</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>There are a good deal of internal changes such as WebGL support (which I really need to cover). You can check out more on wgpu's <a href="https://github.com/gfx-rs/wgpu/blob/master/CHANGELOG.md#wgpu-011-2021-10-07" target="_blank" rel="noopener noreferrer">changelog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="pong-is-fixed-for-0-10"><a href="#pong-is-fixed-for-0-10" class="header-anchor">#</a> Pong is fixed for 0.10</h2> <p>It wasn't actually that hard of a fix. I only really use the swapchain directly in the render module, and the only other change required me to include the <code>spirv</code> feature to wgpu in Cargo.toml.</p> <h2 id="_0-10-swapchain-is-dead-long-live-the-surface"><a href="#_0-10-swapchain-is-dead-long-live-the-surface" class="header-anchor">#</a> 0.10 SwapChain is dead, long live the Surface!</h2> <p><code>SwapChain</code> and all related code has been removed from wgpu. All code pertaining to obtaining textures to draw to from the window will be available from the <code>Surface</code> instead. That means configuring <code>SurfaceTexture</code>s will look something like this:</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">SurfaceConfiguration</span> <span class="token punctuation">{</span>
    usage<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">TextureUsages</span><span class="token punctuation">::</span><span class="token constant">RENDER_ATTACHMENT</span><span class="token punctuation">,</span>
    format<span class="token punctuation">:</span> surface<span class="token punctuation">.</span><span class="token function">get_supported_formats</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>adapter<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    width<span class="token punctuation">:</span> size<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> size<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
    present_mode<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PresentMode</span><span class="token punctuation">::</span><span class="token class-name">Fifo</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
surface<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>device<span class="token punctuation">,</span> <span class="token operator">&amp;</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Resizing the surface will use similar code:</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">if</span> new_size<span class="token punctuation">.</span>width <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> new_size<span class="token punctuation">.</span>height <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>size <span class="token operator">=</span> new_size<span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>width <span class="token operator">=</span> new_size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>height <span class="token operator">=</span> new_size<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>surface<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>device<span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Finally, getting a <code>SurfaceTexture</code> to draw to will use the surface directly.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>surface<span class="token punctuation">.</span><span class="token function">get_current_texture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> view <span class="token operator">=</span> output
    <span class="token punctuation">.</span>texture
    <span class="token punctuation">.</span><span class="token function">create_view</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">TextureViewDescriptor</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The Pong and imgui examples are broken again. I may remove the imgui example as the corresponding crate already has examples of how to use it. I'm also considering reworking the Pong example, but I may end up just updating it.</p> <h2 id="pong-and-imgui-demos-are-fixed"><a href="#pong-and-imgui-demos-are-fixed" class="header-anchor">#</a> Pong and imgui demos are fixed!</h2> <p>The <code>imgui_wgpu</code> and <code>wgpu_glyph</code> crates have been updated to <code>wgpu</code> 0.8 so I was able to fix the demos! They both still use GLSL, and I don't think I'll be changing that for now. I may switch them over to <code>naga</code> at some point.</p> <h2 id="_0-8-and-wgsl"><a href="#_0-8-and-wgsl" class="header-anchor">#</a> 0.8 and WGSL</h2> <h3 id="the-glsl-shaders-have-been-translated-to-wgsl"><a href="#the-glsl-shaders-have-been-translated-to-wgsl" class="header-anchor">#</a> The GLSL shaders have been translated to WGSL</h3> <p>Originally I wanted to wait until the WGSL spec fully stabilized, but due to some issues with the GLSL code, I've decided to switch over the code now. While GLSL is supported by WebGPU, it's currently secondary to WGSL. I'll keep an example of how to use GLSL (and maybe add HLSL and Metal as well), but I'm going to use WGSL from now on.</p> <h3 id="shaderc-has-been-removed"><a href="#shaderc-has-been-removed" class="header-anchor">#</a> Shaderc has been removed</h3> <p>I've been thinking about doing this for a while now. Because shaderc is a c library, it often has to be redownloaded during builds. This has been slowing down my ability to add new content and maintain old content. I had been considering switching to naga earlier, but some of my shaders (notably the lighting ones) weren't compiling with naga as I was using features not available for compatibility reasons (<code>inverse</code> is not available in all languages targeting spirv).</p> <p>Since I needed to make a bunch of changes to the code base to make the glsl, and because I wanted to switch the tutorial to WGSL anyways, I decided to bite the bullet and recode everything in WGSL and remove shaderc from the tutorials.</p> <h3 id="some-of-the-showcase-examples-are-broken"><a href="#some-of-the-showcase-examples-are-broken" class="header-anchor">#</a> Some of the showcase examples are broken</h3> <p>The <code>wgpu_glyph</code>, and <code>imgui-wgpu</code> crates currently depend on <code>wgpu</code> 0.7, which is causing the <code>pong</code> and <code>imgui-demo</code> to not compile. I decided to exclude them from the workspace until the underlying crates update to using <code>wgpu</code> 0.8. (Feel free to submit a issue or even PR when that happens!)</p> <h3 id="various-api-changes"><a href="#various-api-changes" class="header-anchor">#</a> Various API changes</h3> <ul><li>The <code>depth</code> field is now <code>depth_or_array_layers</code></li> <li><code>wgpu::VertexFormat::Float3</code> is now <code>wgpu::VertexFormat::Float32x3</code>. Similar things apply to <code>Float2</code> and <code>Float4</code></li> <li><code>CullMode</code> is no longer a thing, instead <code>PrimitiveState::cull_mode</code> will require an <code>Option&lt;Face&gt;</code></li> <li>Added <code>clamp_depth</code> and <code>conservative</code> to <code>PrimitiveState</code>. Part of this means that <code>DepthStencilState</code> no longer has a <code>clamp_depth</code> field.</li> <li><code>color_blend</code> and <code>alpha_blend</code> have been moved into the new <code>blend</code> field with accepts an <code>Option&lt;wgpu::BlendState&gt;</code></li> <li><code>adapter.get_preferred_format()</code> now returns an <code>Option&lt;wgpu::TextureFormat&gt;</code></li> <li><code>wgpu::RenderPassColorAttachmentDescriptor</code> has been renamed <code>wgpu::RenderPassColorAttachement</code> and the <code>attachment</code> field has been renamed to <code>view</code></li> <li><code>wgpu::RenderPassDepthStencialAttachmentDescriptor</code> also loses the <code>Descriptor</code> part of it's name. <code>attachment</code> gets renamed to <code>view</code> as well.</li> <li><code>wgpu::TextureCopyView</code> has been renamed to <code>wgpu::TexelCopyTextureInfo</code>. This is a typedef for <code>wgpu::TexelCopyTextureInfoBase&lt;T&gt;</code></li> <li><code>wgpu::TextureDataLayout</code> is now <code>wgpu::TexelCopyBufferLayout</code> and it's <code>bytes_per_row</code> and <code>rows_per_image</code> now take <code>NonZeroU32</code>.</li> <li><code>wgpu::TexelCopyBufferInfo</code> is now <code>wgpu::TexelCopyBufferInfo</code>.</li></ul> <h2 id="_0-7"><a href="#_0-7" class="header-anchor">#</a> 0.7</h2> <p>There were a lot of changes, particularly to the <code>RenderPipelineDescriptor</code>. Most other things have not changed. You can check out the <a href="https://github.com/sotrh/learn-wgpu/pull/140" target="_blank" rel="noopener noreferrer">0.9 PR<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for the full details.</p> <h2 id="november-2020-cleanup-content-freeze-and-patreon"><a href="#november-2020-cleanup-content-freeze-and-patreon" class="header-anchor">#</a> November 2020 Cleanup, Content Freeze, and Patreon</h2> <p>School is starting to ramp up, so I haven't had as much time to work on the site as I would like to. Because of that, there were some issues piling up. I decided to tackle a bunch of them in one go. Here's a snapshot of what I did:</p> <ul><li>The tutorial now handles <code>SurfaceError</code> properly</li> <li>I'm now using bytemuck's derive feature on all buffer data structs.</li> <li>The <a href="../beginner/tutorial7-instancing">instancing tutorial</a> now uses vertex buffers instead of storage buffers.</li> <li><code>build.rs</code> now updates when individual shaders are changed, not whenever <code>/src</code> is changed.</li> <li>Had some help from Github user @kanerogers to clean up the <a href="../beginner/tutorial5-textures">texturing tutorial</a>.</li> <li>I made a <a href="../showcase/compute">compute pipeline showcase</a> that computes the tangent and bitangent for each vertex in a model.</li> <li>I made a <a href="../showcase/imgui-demo">imgui showcase</a>. It's very basic, but it should be a good starting point.</li></ul> <p>Now in the headline, I mentioned a &quot;Content Freeze&quot;. Wgpu is still a moving target. The migration from <code>0.4</code> to <code>0.5</code> was a lot of work. The same goes for <code>0.5</code> to <code>0.6</code>. I expect the next migration to be just as much work. As such, I won't be adding much content until the API becomes a bit more stable. That being said, I still plan on resolving any issues with the content.</p> <p>One more thing. This is actually quite awkward for me (especially since I'll be slowing down development), but I've started a <a href="https://www.patreon.com/sotrh" target="_blank" rel="noopener noreferrer">patreon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. My job doesn't give me a ton of hours, so things are a bit tight. You are by no means obligated to donate, but I would appreciate it.</p> <p>You can find out more about contributing to this project on the <a href="/learn-wgpu/news/#contribution-and-support">introduction page</a></p> <h2 id="_0-6"><a href="#_0-6" class="header-anchor">#</a> 0.6</h2> <p>This took me way too long. The changes weren't difficult, but I had to do a lot of copy pasting. The main changes are using <code>queue.write_buffer()</code> and <code>queue.write_texture()</code> everywhere. I won't get into the nitty gritty, but you can check out the <a href="https://github.com/sotrh/learn-wgpu/pull/90" target="_blank" rel="noopener noreferrer">pull request<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> if you're interested.</p> <h2 id="added-pong-showcase"><a href="#added-pong-showcase" class="header-anchor">#</a> Added Pong Showcase</h2> <p><a href="/learn-wgpu/news/showcase/pong/">See it here</a></p> <h2 id="normal-mapping"><a href="#normal-mapping" class="header-anchor">#</a> Normal mapping</h2> <p>My perfectionism got in my way a bit with this one. I wasn't sure that what I was getting was &quot;physically accurate&quot;, but it seems to look good.</p> <p><img src="/learn-wgpu/assets/img/normal_mapping_correct.2731b486.png" alt=""></p> <h2 id="_0-5"><a href="#_0-5" class="header-anchor">#</a> 0.5!</h2> <p>Too many things changed to make note of them here. Check out <a href="https://github.com/sotrh/learn-wgpu/pull/29" target="_blank" rel="noopener noreferrer">the 0.5 pull request<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> if you're curious about specifics. That being said, 2 things are worth mentioning directly: the y-axis now points up like with DirectX and Metal, and requesting an adapter and creating a device now use <code>Future</code>s. The tutorials have been updated as well as the code.</p> <h2 id="reworked-lighting-tutorial"><a href="#reworked-lighting-tutorial" class="header-anchor">#</a> Reworked lighting tutorial</h2> <p>The <a href="/learn-wgpu/intermediate/tutorial10-lighting/">lighting tutorial</a> was not up to par, so I redid it.</p> <h2 id="added-gif-showcase"><a href="#added-gif-showcase" class="header-anchor">#</a> Added GIF showcase</h2> <p><a href="/learn-wgpu/showcase/gifs/">Creating GIFs</a></p> <h2 id="updated-texture-tutorials"><a href="#updated-texture-tutorials" class="header-anchor">#</a> Updated texture tutorials</h2> <p>Up to this point, we created textures manually every time. I've pulled out the texture creation code into a new <code>texture.rs</code> file and included it in every tutorial from the <a href="/learn-wgpu/beginner/tutorial5-textures/#cleaning-things-up">textures tutorial</a> onward.</p> <h2 id="fixed-panics-due-to-not-specifying-the-correct-usage"><a href="#fixed-panics-due-to-not-specifying-the-correct-usage" class="header-anchor">#</a> Fixed panics due to not specifying the correct <code>usage</code></h2> <p>Wgpu has become more strict about what <code>BufferUsages</code>s and <code>TextureUsages</code>s are required when performing certain operations. For example in the <a href="/learn-wgpu/intermediate/windowless/">Wgpu without a window example</a>, the <code>texture_desc</code> only specified the usage to by <code>COPY_SRC</code>. This caused a crash when the <code>texture</code> was used as a render target. Adding <code>OUTPUT_ATTACHMENT</code> fixed the issue.</p> <h2 id="updating-winit-from-0-20-0-alpha5-to-0-20"><a href="#updating-winit-from-0-20-0-alpha5-to-0-20" class="header-anchor">#</a> Updating Winit from 0.20.0-alpha5 to 0.20</h2> <p>There were a lot of small changes to how the dpi stuff works. You can see all the changes <a href="https://github.com/rust-windowing/winit/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">in the changelog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. That means that some of the tutorials had to change.</p> <ul><li>I've removed <code>hidpi_factor</code> from <code>State</code> entirely. They removed the <code>hidpi_factor()</code> method from <code>winit::window::Window</code>, and changed <code>inner_size()</code> to return <code>PhysicalSize</code> instead of <code>LogicalSize</code>, so we don't need to store the <code>hidpi_factor</code> anymore.</li> <li><code>update_hidpi_and_resize</code> is no more. Since <code>ScaleFactorChanged</code> passes in the windows new <code>PhysicalSize</code>, we can simply use <code>resize()</code>.</li> <li><code>State::size</code> is now <code>PhysicalSize&lt;u32&gt;</code> instead of the pre 0.20 <code>LogicalSize</code>.</li> <li><code>EventsCleared</code> is now <code>MainEventsCleared</code>.</li></ul> <p>I may have missed a change, but I made sure that all the examples compile and run, so if you have trouble with your code you can use them as a reference.</p> <h2 id="changed-tutorial-examples-to-use-a-src-directory"><a href="#changed-tutorial-examples-to-use-a-src-directory" class="header-anchor">#</a> Changed tutorial examples to use a src directory</h2> <p>I wasn't using the traditional cargo binary folder setup. I've changed it to the standardized form now.</p> <h2 id="updating-to-0-4-from-0-3"><a href="#updating-to-0-4-from-0-3" class="header-anchor">#</a> Updating to 0.4 from 0.3</h2> <p>There are a few things that have changed:</p> <ol><li>The use of <code>Instance</code> has been removed. Creating a <code>Surface</code> and requesting an <code>Adapter</code> are done as follows.</li></ol> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> surface <span class="token operator">=</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Surface</span><span class="token punctuation">::</span><span class="token function">create</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> adapter <span class="token operator">=</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Adapter</span><span class="token punctuation">::</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RequestAdapterOptions</span> <span class="token punctuation">{</span>
    <span class="token punctuation">..</span><span class="token class-name">Default</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// needs to be unwrapped</span>
</code></pre></div><ol start="2"><li>The <code>request_device</code> method now returns a <code>(Device, Queue)</code> tuple. This means that you can borrow the <code>Queue</code> mutably while using the <code>Device</code> immutably. Because of this change, submitting <code>CommandBuffer</code>s to the queue uses the <code>submit</code> method on the <code>Queue</code> directly.</li></ol> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">self</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">[</span>
    encoder<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>The <code>create</code> method on <code>Surface</code> takes in any struct that implements the <code>HasRawWindow</code> trait, instead of a <code>RawWindowHandle</code>. This means that the <code>raw-window-handle = &quot;0.3&quot;</code> line in <code>Cargo.toml</code> is no longer needed.</li></ol> <p>I don't know if this is a change from 0.4, but you use <code>wgpu = &quot;0.4&quot;</code> line in dependencies instead of the <code>[dependencies.wgpu]</code> as wgpu will determine the best back end for you.</p> <h2 id="new-recent-articles"><a href="#new-recent-articles" class="header-anchor">#</a> New/Recent Articles</h2> <div><ul><li><a></a></li><li><a></a></li><li><a></a></li><li><a></a></li><li><a></a></li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/12/2025, 10:25:25 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/learn-wgpu/news/0.12/" class="prev">
          Update to 0.12!
        </a></span> <!----></p></div> </main></div></div><div class="global-ui"><!----></div></div>
    <script src="/learn-wgpu/assets/js/app.a45c4644.js" defer></script><script src="/learn-wgpu/assets/js/2.90144110.js" defer></script><script src="/learn-wgpu/assets/js/1.a3cd4637.js" defer></script><script src="/learn-wgpu/assets/js/47.2691d90d.js" defer></script><script src="/learn-wgpu/assets/js/52.5e2e5d28.js" defer></script>
  </body>
</html>
